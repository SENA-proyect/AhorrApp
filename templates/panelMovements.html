<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Movimientos Financieros</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/panel.css') }}">
</head>
<body>
<!-- {% include 'navbar.html' %} -->
    
    <div class="inf-container">
    <h2>Movimientos Financieros</h2>

        <div class="inf-listas">
            {% for movimiento in movimientos %}
            <div class="general-card">
                <p><strong>ID Movimiento:</strong> {{ movimiento.ID_movimiento }}</p>
                <p><strong>Módulo:</strong> {{ movimiento.Subtipo_Modulo }}</p>
                <p><strong>Monto:</strong> ${{ "{:,.2f}".format(movimiento.Monto) }}</p>
                <p><strong>Fecha:</strong> {{ movimiento.Fecha_registro }}</p>


                
                {% if movimiento.Subtipo_Modulo == 'Ahorro' %}
                    <p><strong>Meta:</strong> {{ movimiento.Meta }}</p>
                    <p><strong>Fecha Meta:</strong> {{ movimiento.Fecha_meta or 'N/A' }}</p>
                {% elif movimiento.Subtipo_Modulo == 'Ingreso' %}
                    <p><strong>Fuente:</strong> {{ movimiento.Fuente }}</p>
                {% elif movimiento.Subtipo_Modulo == 'Deuda' %}
                    <p><strong>Acreedor:</strong> {{ movimiento.Fuente }}</p>
                    <p><strong>Estado:</strong> 
                        <span class="badge {{ 'pagada' if movimiento.Estado == 'pagada' else 'pendiente' }}">
                            {{ movimiento.Estado|capitalize if movimiento.Estado else 'Pendiente' }}
                        </span>
                    </p>
                {% elif movimiento.Subtipo_Modulo == 'Imprevisto' %}
                    <p><strong>Causa:</strong> {{ movimiento.Causa }}</p>
                {% endif %}

                <p><strong>Descripción:</strong> {{ movimiento.Descripcion or 'Sin descripción' }}</p>


            </div>
            {% endfor %}
        </div>
    </div>

<!-- {% include 'footer.html' %} -->
</body>
</html>